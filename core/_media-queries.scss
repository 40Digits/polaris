// ================================
// Media Queries
// ================================

// Do not edit unless you know what you are doing.

@mixin mq($point, $reverse: false) {
  // if print media is enabled
  // we are looping through all of the media query mixins
  // if the mq equates to "print" then we wrap the content in print
  // if anything else, we just stack the content inside of the media query mixin
  // the idea is that all of the mobile first entries get overwritten, however a print media query will take precedence
  @if $print-media {

    @if $point == 'print' {
      @media print {
        @content;
      }
    } @else {
      @content;
    }

  } @else {

    // check if value inside of mixin is a number
    // if number then we use that value in the breakpoint
    // the number needs to be a pixel value as we are going to convert it to an em
    // we are utilizing base 16px for all em units
    @if type-of($point) == "number" {
      @if unitless($point) or unit($point) == "em" or unit($point) == "rem" or unit($point) == "%" {
        @error "Mixin mq requires pixel values, received #{$point}. Please replace with a pixel value.";

      // if max media query .. ex: @include mq(600px, max)
      // we take the 600px and subtract 1px for the max-width to work with mobile-first
      } @else if $reverse == "max" {
        @media (max-width: em($point - 1px)) {
          @content;
        }

      // if min media query ... ex: @include mq(600px)
      // we just take the unit passed and generate the min-width query
      } @else {
        @media (min-width: em($point)) {
          @content;
        }
      }

    // otherwise if it's not a number
    // we are going to check if the value matches our media query map
    // stored in $config. The defaults are stored in "core/_options.scss",
    // any overrides are found in "app/_config.scss"
    } @else if map-deep-get($config, mq, "mq-#{$point}") {

      // if this should be a limited style
      @if map-deep-get($config, mq, "mq-max-#{$reverse}") {
        @media #{inspect(map-deep-get($config, mq, "mq-#{$point}"))} and #{inspect(map-deep-get($config, mq, "mq-max-#{$reverse}"))} {
          @content;
        }
      } @else {
        @media #{inspect(map-deep-get($config, mq, "mq-#{$point}"))} {
          @content;
        }
      }
    } @else {
      @error "Mixin mq couldn't find a breakpoint named `#{$point}`.";
    }
  }
}
